{"version":3,"sources":["components/OptPastorais.js","views/ui/Cad_User.js"],"names":["OptPastorais","useState","data","setData","useEffect","fetch","process","then","response","json","actualData","catch","err","console","log","message","label","map","item","index","value","id","pastoral","Cad_User","props","onLoginChange","event","setState","login","target","onNomeEmailChange","email","onNomeChange","nome","onSenhaChange","senha","onSenharChange","senhar","onPastoralChange","paginaPrincipal","window","location","replace","state","rota","reload","onSubmitSignIn","a","error","trim","onMudaTitulo","onMudaMessagem","toggle","test","length","method","headers","body","JSON","stringify","usuario","onMudaLink","open","error_end","t_message","modal","bind","this","mess","isOpen","className","backdrop","color","onClick","tag","name","for","width","placeholder","type","onChange","React","Component"],"mappings":"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","file":"static/js/18.6917767c.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nfunction OptPastorais() {\r\n    \r\n    const [data, setData] = useState([]);\r\n\r\n    const fetchData = () => {\r\n        fetch(process.env.REACT_APP_SERVER_TZ+'/pastorais')\r\n        .then((response) => response.json())\r\n        .then((actualData) => {\r\n            //console.log(actualData);\r\n            setData(actualData);\r\n            //console.log(data);\r\n        })\r\n        .catch((err) => {\r\n            console.log(err.message);\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, []);\r\n    \r\n   \r\n\r\n    return (\r\n        \r\n         <optgroup label=\"Selecione a pastoral que frequenta\">\r\n            {/* Tem que colocar o onChange={this.onParoquiaChange} no input abaixo: */}\r\n            \r\n                    {data.map((item, index) => (\r\n                        <option value={item.id}>{item.pastoral}</option>\r\n                    ))}\r\n        </optgroup>\r\n    );\r\n}\r\n\r\nexport default OptPastorais;","import {\r\n  Card,\r\n  Row,\r\n  Col,\r\n  CardTitle,\r\n  CardBody,\r\n  Button,\r\n  Form,\r\n  FormGroup,\r\n  Label,\r\n  Input,\r\n  Modal, ModalHeader, ModalBody, ModalFooter,\r\n  /*FormText,*/\r\n} from \"reactstrap\";\r\nimport React from 'react';\r\nimport OptPastorais from \"../../components/OptPastorais\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\n//let error_end = '/';\r\n\r\nclass Cad_User extends React.Component {\r\n  \r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n        login: '',\r\n        email: '',\r\n        nome: '',\r\n        senha: '',\r\n        senhar: '',\r\n        pastoral:'1',\r\n        error_end:'/',\r\n        rota: '/caduser',\r\n        message: '',\r\n        t_message: '',\r\n        modal: false,\r\n        \r\n    }\r\n    this.toggle = this.toggle.bind(this);\r\n};\r\n\r\ntoggle() {\r\n  this.setState({\r\n    modal: !this.state.modal\r\n  });\r\n}\r\n\r\nonLoginChange = (event) => {\r\n  this.setState({login: event.target.value})\r\n};\r\n\r\nonNomeEmailChange = (event) => {\r\n  this.setState({email: event.target.value})\r\n};\r\n\r\n\r\nonNomeChange = (event) => {\r\n  this.setState({nome: event.target.value})\r\n};\r\n\r\n\r\nonSenhaChange = (event) => {\r\n  this.setState({senha: event.target.value})\r\n};\r\n\r\nonSenharChange = (event) => {\r\n  this.setState({senhar: event.target.value})\r\n};\r\n\r\nonPastoralChange = (event) => {\r\n  this.setState({pastoral: event.target.value})\r\n};\r\n\r\nonMudaMessagem (mess) {\r\n  this.setState((state) => {\r\n    // Importante: use `state` em vez de `this.state` quando estiver atualizando.\r\n    return {message: mess}\r\n  });\r\n};\r\n\r\nonMudaTitulo (mess) {\r\n  this.setState((state) => {\r\n    // Importante: use `state` em vez de `this.state` quando estiver atualizando.\r\n    return {t_message: mess}\r\n  });\r\n};\r\n\r\nonMudaLink (mess) {\r\n  this.setState((state) => {\r\n    // Importante: use `state` em vez de `this.state` quando estiver atualizando.\r\n    return {rota: mess}\r\n  });\r\n};\r\n\r\npaginaPrincipal = () => {\r\n  //alert(this.state.rota);\r\n  window.location.replace (process.env.REACT_APP_SERVER_APP+this.state.rota);\r\n  window.location.reload();\r\n  //window.open(this.state.rota,\"_self\");\r\n}\r\n\r\n//Rotina para verificar erros no formulário\r\nonSubmitSignIn = async () => {\r\n  \r\n  //alert(this.state.email.trim())\r\n  //alert(/\\S+@\\S+\\.\\S+/.test(this.state.email.trim()));\r\n\r\n  let error = 0;\r\n\r\n  if(this.state.login.trim() === ''){\r\n    //alert(\"Por favor, digite seu login de preferência.\");\r\n    error = 1;\r\n    this.onMudaTitulo(\"Erro!\");\r\n    this.onMudaMessagem('Por favor, digite seu login de preferência.');\r\n    this.toggle();\r\n  } \r\n  \r\n  if(this.state.nome.trim() === ''){\r\n   //alert(\"Por favor, preencha pelo o nome do usuário.\");\r\n    error = 1;\r\n    this.onMudaTitulo(\"Erro!\");\r\n    this.onMudaMessagem('Por favor, preencha o nome do usuário.');\r\n    this.toggle();\r\n  } \r\n\r\n  if(!(/\\S+@\\S+\\.\\S+/.test(this.state.email.trim()))){\r\n    //alert(\"Por favor, digite e-mail válido.\");\r\n    error = 1;\r\n    this.onMudaTitulo(\"Erro!\");\r\n    this.onMudaMessagem('Por favor, digite e-mail válido.');\r\n    this.toggle();\r\n  } \r\n  \r\n  if(this.state.senha.trim() === '' || this.state.senha.length < 6){\r\n    //alert(\"Por favor, digite sua senha com no mínimo 6 caracteres.\");\r\n    error = 1;\r\n    //this.setState({error_end: '/caduser'});\r\n    this.onMudaTitulo(\"Erro!\");\r\n    this.onMudaMessagem('Por favor, digite sua senha com no mínimo 6 caracteres.');\r\n    this.toggle();\r\n  } \r\n\r\n  if(this.state.senhar.trim() === ''){\r\n    //alert(\"Por favor, repita a senha.\");\r\n    error = 1;\r\n    this.onMudaTitulo(\"Erro!\");\r\n    this.onMudaMessagem('Por favor, repita a senha.');\r\n    this.toggle();\r\n  } \r\n\r\n  if(this.state.senha.trim() !== this.state.senhar.trim()){\r\n    //alert(\"As senhas não coincidem!\");\r\n    error = 1;\r\n    this.onMudaTitulo(\"Erro!\");\r\n    this.onMudaMessagem('As senhas não coincidem!');\r\n    this.toggle();\r\n  } \r\n\r\n  //alert(error);\r\n\r\n  if (error !== 1){\r\n    \r\n    await fetch(process.env.REACT_APP_SERVER_TZ+'/register_user', {\r\n        method: 'post',\r\n        headers: {'Content-Type': 'application/json'},\r\n        body: JSON.stringify({\r\n            login: this.state.login,\r\n            nome: this.state.nome,\r\n            senha: this.state.senha,\r\n            email: this.state.email,\r\n            pastoral: this.state.pastoral,\r\n            \r\n        })\r\n    })\r\n    .then(response => response.json())\r\n    .then (usuario => {\r\n      //alert(usuario);\r\n      this.onMudaTitulo(\"Mensagem!\");\r\n      this.onMudaMessagem(usuario);\r\n      this.onMudaLink('/#/');\r\n      this.toggle();\r\n      //window.open(\"/\",\"_self\")\r\n      \r\n    })\r\n  } else {\r\n    //alert('Não cadastrou!');\r\n    window.open(\"#/caduser\",\"_self\");\r\n  }\r\n}\r\n//Fim === Rotina para verificar erros no formulário\r\n  render() {\r\n    \r\n    \r\n    return (\r\n      <div>\r\n\r\n        <div>\r\n          <Modal isOpen={this.state.modal} toggle={this.toggle} className={this.props.className} backdrop=\"static\">\r\n            <ModalHeader toggle={this.toggle}>{this.state.t_message}</ModalHeader>\r\n            <ModalBody>\r\n              {this.state.message}\r\n            </ModalBody>\r\n            <ModalFooter>\r\n              <Button color=\"primary\" onClick={this.paginaPrincipal}>OK</Button>{' '}\r\n            </ModalFooter>\r\n          </Modal>\r\n        </div>\r\n\r\n        <Row>\r\n          <Col>\r\n            {/* --------------------------------------------------------------------------------*/}\r\n            {/* Card-1*/}\r\n            {/* --------------------------------------------------------------------------------*/}\r\n            <Card>\r\n              <CardTitle tag=\"h6\" className=\"border-bottom p-3 mb-0\">\r\n                <h3>\r\n                <i className='bi bi-file-earmark-person'></i>\r\n                  {'  '}Cadastro de Usuários\r\n                </h3>\r\n              </CardTitle>\r\n              <CardBody>\r\n                <Form>\r\n                \r\n                  \r\n                  <FormGroup className='w-50' name='f1'>\r\n                    <Label for=\"login\">Login:</Label>\r\n                      <Input\r\n                        width='w-25'\r\n                        id=\"login\"\r\n                        name=\"login\"\r\n                        placeholder=\"\"\r\n                        type=\"text\"\r\n                        onChange={this.onLoginChange}\r\n                      />\r\n                  </FormGroup>\r\n\r\n                  <FormGroup>\r\n                    <Label for=\"nome\">Nome Completo:</Label>\r\n                      <Input\r\n                        width='w-25'\r\n                        id=\"nome\"\r\n                        name=\"nome\"\r\n                        placeholder=\"\"\r\n                        type=\"text\"\r\n                        onChange={this.onNomeChange}\r\n                      />\r\n                  </FormGroup>\r\n\r\n                  <FormGroup className='w-50'>\r\n                    <Label for=\"Email\" >E-mail:</Label>\r\n                    <Input\r\n                      id=\"email\"\r\n                      name=\"email\"\r\n                      placeholder=\"\"\r\n                      type=\"text\"\r\n                      onChange={this.onNomeEmailChange}\r\n                    />\r\n                  </FormGroup>\r\n\r\n                  \r\n                  \r\n\r\n                  <FormGroup className='w-50'>\r\n                    <Label for=\"senha\">Senha:</Label><small>&nbsp;(No mínimo 6 caracteres)</small>\r\n                    <Input\r\n                      id=\"senha\"\r\n                      name=\"senha\"\r\n                      placeholder=\"\"\r\n                      type=\"password\"\r\n                      onChange={this.onSenhaChange}\r\n                    />\r\n                  </FormGroup>\r\n\r\n                  <FormGroup className='w-50'>\r\n                    <Label for=\"senhar\">Repita a Senha:</Label>\r\n                    <Input\r\n                      id=\"senhar\"\r\n                      name=\"senhar\"\r\n                      placeholder=\"\"\r\n                      type=\"password\"\r\n                      onChange={this.onSenharChange}\r\n                    />\r\n                  </FormGroup>\r\n\r\n                  \r\n                  \r\n                  <FormGroup className='w-50'>\r\n                  <Label for=\"exampleSelectMulti\">Qual pastoral está vinculado?</Label>\r\n                    <Input id=\"dataSelect\" name=\"pastoral\" type=\"select\" onChange={this.onPastoralChange}>\r\n                      <OptPastorais/>\r\n                    </Input>\r\n                  </FormGroup>\r\n\r\n                  \r\n\r\n                  <br/>\r\n                  {/* <input\r\n                      onClick={this.onSubmitSignIn}\r\n                      className=\"btn btn-primary\"\r\n                      type=\"submit\"\r\n                      value=\"Solicitar Cadastro\"\r\n                    /> */}\r\n                  <Link className=\"btn btn-primary\" onClick={this.onSubmitSignIn}>Solicitar Cadastro</Link>\r\n                </Form>\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    )\r\n  };\r\n};\r\n\r\nexport default Cad_User;\r\n"],"sourceRoot":""}