(this["webpackJsonpstarter-bt5"]=this["webpackJsonpstarter-bt5"]||[]).push([[18],{522:function(e,t,a){"use strict";a.r(t);var n=a(5),s=a.n(n),o=a(9),i=a(14),r=a(16),c=a(28),l=a(17),h=a(18),u=a(27),d=a(1),g=a.n(d),m=a(7),j=a(6);var b=function(){var e=Object(d.useState)([]),t=Object(m.a)(e,2),a=t[0],n=t[1];return Object(d.useEffect)((function(){fetch("http://lina.ufpi.br:3001/pastorais").then((function(e){return e.json()})).then((function(e){n(e)})).catch((function(e){console.log(e.message)}))}),[]),Object(j.jsx)("optgroup",{label:"Selecione a pastoral que frequenta",children:a.map((function(e,t){return Object(j.jsx)("option",{value:e.id,children:e.pastoral})}))})},p=a(21),f=function(e){Object(l.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).onLoginChange=function(e){n.setState({login:e.target.value})},n.onNomeEmailChange=function(e){n.setState({email:e.target.value})},n.onNomeChange=function(e){n.setState({nome:e.target.value})},n.onSenhaChange=function(e){n.setState({senha:e.target.value})},n.onSenharChange=function(e){n.setState({senhar:e.target.value})},n.onPastoralChange=function(e){n.setState({pastoral:e.target.value})},n.paginaPrincipal=function(){window.location.replace("http://localhost:3000"+n.state.rota),window.location.reload()},n.onSubmitSignIn=Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0,""===n.state.login.trim()&&(t=1,n.onMudaTitulo("Erro!"),n.onMudaMessagem("Por favor, digite seu login de prefer\xeancia."),n.toggle()),""===n.state.nome.trim()&&(t=1,n.onMudaTitulo("Erro!"),n.onMudaMessagem("Por favor, preencha o nome do usu\xe1rio."),n.toggle()),/\S+@\S+\.\S+/.test(n.state.email.trim())||(t=1,n.onMudaTitulo("Erro!"),n.onMudaMessagem("Por favor, digite e-mail v\xe1lido."),n.toggle()),(""===n.state.senha.trim()||n.state.senha.length<6)&&(t=1,n.onMudaTitulo("Erro!"),n.onMudaMessagem("Por favor, digite sua senha com no m\xednimo 6 caracteres."),n.toggle()),""===n.state.senhar.trim()&&(t=1,n.onMudaTitulo("Erro!"),n.onMudaMessagem("Por favor, repita a senha."),n.toggle()),n.state.senha.trim()!==n.state.senhar.trim()&&(t=1,n.onMudaTitulo("Erro!"),n.onMudaMessagem("As senhas n\xe3o coincidem!"),n.toggle()),1===t){e.next=12;break}return e.next=10,fetch("http://lina.ufpi.br:3001/register_user",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:n.state.login,nome:n.state.nome,senha:n.state.senha,email:n.state.email,pastoral:n.state.pastoral})}).then((function(e){return e.json()})).then((function(e){n.onMudaTitulo("Mensagem!"),n.onMudaMessagem(e),n.onMudaLink("/#/"),n.toggle()}));case 10:e.next=13;break;case 12:window.open("#/caduser","_self");case 13:case"end":return e.stop()}}),e)}))),n.state={login:"",email:"",nome:"",senha:"",senhar:"",pastoral:"1",error_end:"/",rota:"/caduser",message:"",t_message:"",modal:!1},n.toggle=n.toggle.bind(Object(c.a)(n)),n}return Object(r.a)(a,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"onMudaMessagem",value:function(e){this.setState((function(t){return{message:e}}))}},{key:"onMudaTitulo",value:function(e){this.setState((function(t){return{t_message:e}}))}},{key:"onMudaLink",value:function(e){this.setState((function(t){return{rota:e}}))}},{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:Object(j.jsxs)(u.y,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className,backdrop:"static",children:[Object(j.jsx)(u.B,{toggle:this.toggle,children:this.state.t_message}),Object(j.jsx)(u.z,{children:this.state.message}),Object(j.jsxs)(u.A,{children:[Object(j.jsx)(u.e,{color:"primary",onClick:this.paginaPrincipal,children:"OK"})," "]})]})}),Object(j.jsx)(u.F,{children:Object(j.jsx)(u.n,{children:Object(j.jsxs)(u.g,{children:[Object(j.jsx)(u.m,{tag:"h6",className:"border-bottom p-3 mb-0",children:Object(j.jsxs)("h3",{children:[Object(j.jsx)("i",{className:"bi bi-file-earmark-person"}),"  ","Cadastro de Usu\xe1rios"]})}),Object(j.jsx)(u.h,{children:Object(j.jsxs)(u.u,{children:[Object(j.jsxs)(u.v,{className:"w-50",name:"f1",children:[Object(j.jsx)(u.x,{for:"login",children:"Login:"}),Object(j.jsx)(u.w,{width:"w-25",id:"login",name:"login",placeholder:"",type:"text",onChange:this.onLoginChange})]}),Object(j.jsxs)(u.v,{children:[Object(j.jsx)(u.x,{for:"nome",children:"Nome Completo:"}),Object(j.jsx)(u.w,{width:"w-25",id:"nome",name:"nome",placeholder:"",type:"text",onChange:this.onNomeChange})]}),Object(j.jsxs)(u.v,{className:"w-50",children:[Object(j.jsx)(u.x,{for:"Email",children:"E-mail:"}),Object(j.jsx)(u.w,{id:"email",name:"email",placeholder:"",type:"text",onChange:this.onNomeEmailChange})]}),Object(j.jsxs)(u.v,{className:"w-50",children:[Object(j.jsx)(u.x,{for:"senha",children:"Senha:"}),Object(j.jsx)("small",{children:"\xa0(No m\xednimo 6 caracteres)"}),Object(j.jsx)(u.w,{id:"senha",name:"senha",placeholder:"",type:"password",onChange:this.onSenhaChange})]}),Object(j.jsxs)(u.v,{className:"w-50",children:[Object(j.jsx)(u.x,{for:"senhar",children:"Repita a Senha:"}),Object(j.jsx)(u.w,{id:"senhar",name:"senhar",placeholder:"",type:"password",onChange:this.onSenharChange})]}),Object(j.jsxs)(u.v,{className:"w-50",children:[Object(j.jsx)(u.x,{for:"exampleSelectMulti",children:"Qual pastoral est\xe1 vinculado?"}),Object(j.jsx)(u.w,{id:"dataSelect",name:"pastoral",type:"select",onChange:this.onPastoralChange,children:Object(j.jsx)(b,{})})]}),Object(j.jsx)("br",{}),Object(j.jsx)(p.b,{className:"btn btn-primary",onClick:this.onSubmitSignIn,children:"Solicitar Cadastro"})]})})]})})})]})}}]),a}(g.a.Component);t.default=f}}]);
//# sourceMappingURL=18.07d5fee6.chunk.js.map